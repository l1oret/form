/*!
 * jQuery Form Plugin
 * version: 4.2.2
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form

 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup

 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license

 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */
!function(_){"use strict";var p=/\r?\n/g,S={};S.fileapi=void 0!==_('<input type="file">').get(0).files,S.formdata=void 0!==window.FormData;var N=!!_.fn.prop;function i(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),_(e.target).closest("form").ajaxSubmit(t))}function o(e){var t=e.target,r=_(t);if(!r.is("[type=submit],[type=image]")){var a=r.closest("[type=submit]");if(0===a.length)return;t=a[0]}var n=t.form;if("image"===(n.clk=t).type)if(void 0!==e.offsetX)n.clk_x=e.offsetX,n.clk_y=e.offsetY;else if("function"==typeof _.fn.offset){var i=r.offset();n.clk_x=e.pageX-i.left,n.clk_y=e.pageY-i.top}else n.clk_x=e.pageX-t.offsetLeft,n.clk_y=e.pageY-t.offsetTop;setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)}function P(){if(_.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}_.fn.attr2=function(){if(!N)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},_.fn.ajaxSubmit=function(M,e,t,r){if(!this.length)return P("ajaxSubmit: skipping submit process - no element selected"),this;var O,a,n,X=this;"function"==typeof M?M={success:M}:"string"==typeof M||!1===M&&0<arguments.length?(M={url:M,data:e,dataType:t},"function"==typeof r&&(M.success=r)):void 0===M&&(M={}),O=M.method||M.type||this.attr2("method"),a=M.url||this.attr2("action"),(n=(n="string"==typeof a?_.trim(a):"")||window.location.href||"")&&(n=(n.match(/^([^#]+)/)||[])[1]),M=_.extend(!0,{url:n,success:_.ajaxSettings.success,type:O||_.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},M);var i={};if(this.trigger("form-pre-serialize",[this,M,i]),i.veto)return P("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(M.beforeSerialize&&!1===M.beforeSerialize(this,M))return P("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var o=M.traditional;void 0===o&&(o=_.ajaxSettings.traditional);var s,C=[],c=this.formToArray(M.semantic,C,M.filtering);if(M.data){var l=_.isFunction(M.data)?M.data(c):M.data;M.extraData=l,s=_.param(l,o)}if(M.beforeSubmit&&!1===M.beforeSubmit(c,this,M))return P("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[c,this,M,i]),i.veto)return P("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var u=_.param(c,o);s&&(u=u?u+"&"+s:s),"GET"===M.type.toUpperCase()?(M.url+=(0<=M.url.indexOf("?")?"&":"?")+u,M.data=null):M.data=u;var f=[];if(M.resetForm&&f.push(function(){X.resetForm()}),M.clearForm&&f.push(function(){X.clearForm(M.includeHidden)}),!M.dataType&&M.target){var m=M.success||function(){};f.push(function(e,t,r){var a=arguments,n=M.replaceTarget?"replaceWith":"html";_(M.target)[n](e).each(function(){m.apply(this,a)})})}else M.success&&(_.isArray(M.success)?_.merge(f,M.success):f.push(M.success));if(M.success=function(e,t,r){for(var a=M.context||this,n=0,i=f.length;n<i;n++)f[n].apply(a,[e,t,r||X,X])},M.error){var p=M.error;M.error=function(e,t,r){var a=M.context||this;p.apply(a,[e,t,r,X])}}if(M.complete){var d=M.complete;M.complete=function(e,t){var r=M.context||this;d.apply(r,[e,t,X])}}var h=_("input[type=file]:enabled",this).filter(function(){return""!==_(this).val()}),v=0<h.length,g="multipart/form-data",x=X.attr("enctype")===g||X.attr("encoding")===g,y=S.fileapi&&S.formdata;P("fileAPI :"+y);var b,T=(v||x)&&!y;!1!==M.iframe&&(M.iframe||T)?M.closeKeepAlive?_.get(M.closeKeepAlive,function(){b=w(c)}):b=w(c):b=(v||x)&&y?function(e){for(var r=new FormData,t=0;t<e.length;t++)r.append(e[t].name,e[t].value);if(M.extraData){var a=function(e){var t,r,a=_.param(e,M.traditional).split("&"),n=a.length,i=[];for(t=0;t<n;t++)a[t]=a[t].replace(/\+/g," "),r=a[t].split("="),i.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return i}(M.extraData);for(t=0;t<a.length;t++)a[t]&&r.append(a[t][0],a[t][1])}M.data=null;var n=_.extend(!0,{},_.ajaxSettings,M,{contentType:!1,processData:!1,cache:!1,type:O||"POST"});M.uploadProgress&&(n.xhr=function(){var e=_.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(r/a*100)),M.uploadProgress(e,r,a,t)},!1),e}),n.data=null;var i=n.beforeSend;return n.beforeSend=function(e,t){M.formData?t.data=M.formData:t.data=r,i&&i.call(this,e,t)},_.ajax(n)}(c):_.ajax(M),X.removeData("jqxhr").data("jqxhr",b);for(var j=0;j<C.length;j++)C[j]=null;return this.trigger("form-submit-notify",[this,M]),this;function w(e){var t,r,u,f,o,m,p,d,a,n,h,v,s=X[0],g=_.Deferred();if(g.abort=function(e){d.abort(e)},e)for(r=0;r<C.length;r++)t=_(C[r]),N?t.prop("disabled",!1):t.removeAttr("disabled");(u=_.extend(!0,{},_.ajaxSettings,M)).context=u.context||u,o="jqFormIO"+(new Date).getTime();var c=s.ownerDocument,l=X.closest("body");if(u.iframeTarget?(m=_(u.iframeTarget,c),(n=m.attr2("name"))?o=n:m.attr2("name",o)):(m=_('<iframe name="'+o+'" src="'+u.iframeSrc+'" />',c)).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=m[0],d={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";P("aborting upload... "+t),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(e){}m.attr("src",u.iframeSrc),d.error=t,u.error&&u.error.call(u.context,d,t,e),f&&_.event.trigger("ajaxError",[d,u,t]),u.complete&&u.complete.call(u.context,d,t)}},(f=u.global)&&0==_.active++&&_.event.trigger("ajaxStart"),f&&_.event.trigger("ajaxSend",[d,u]),u.beforeSend&&!1===u.beforeSend.call(u.context,d,u))return u.global&&_.active--,g.reject(),g;if(d.aborted)return g.reject(),g;(a=s.clk)&&(n=a.name)&&!a.disabled&&(u.extraData=u.extraData||{},u.extraData[n]=a.value,"image"===a.type&&(u.extraData[n+".x"]=s.clk_x,u.extraData[n+".y"]=s.clk_y));var x=1,y=2;function b(t){var r=null;try{t.contentWindow&&(r=t.contentWindow.document)}catch(e){P("cannot get iframe.contentWindow document: "+e)}if(r)return r;try{r=t.contentDocument?t.contentDocument:t.document}catch(e){P("cannot get iframe.contentDocument: "+e),r=t.document}return r}var i=_("meta[name=csrf-token]").attr("content"),T=_("meta[name=csrf-param]").attr("content");function j(){var e=X.attr2("target"),t=X.attr2("action"),r=X.attr("enctype")||X.attr("encoding")||"multipart/form-data";s.setAttribute("target",o),O&&!/post/i.test(O)||s.setAttribute("method","POST"),t!==u.url&&s.setAttribute("action",u.url),u.skipEncodingOverride||O&&!/post/i.test(O)||X.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(v=setTimeout(function(){h=!0,A(x)},u.timeout));var a=[];try{if(u.extraData)for(var n in u.extraData)u.extraData.hasOwnProperty(n)&&(_.isPlainObject(u.extraData[n])&&u.extraData[n].hasOwnProperty("name")&&u.extraData[n].hasOwnProperty("value")?a.push(_('<input type="hidden" name="'+u.extraData[n].name+'">',c).val(u.extraData[n].value).appendTo(s)[0]):a.push(_('<input type="hidden" name="'+n+'">',c).val(u.extraData[n]).appendTo(s)[0]));u.iframeTarget||m.appendTo(l),p.attachEvent?p.attachEvent("onload",A):p.addEventListener("load",A,!1),setTimeout(function e(){try{var t=b(p).readyState;P("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(e){P("Server abort: ",e," (",e.name,")"),A(y),v&&clearTimeout(v),v=void 0}},15);try{s.submit()}catch(e){var i=document.createElement("form").submit;i.apply(s)}}finally{s.setAttribute("action",t),s.setAttribute("enctype",r),e?s.setAttribute("target",e):X.removeAttr("target"),_(a).remove()}}T&&i&&(u.extraData=u.extraData||{},u.extraData[T]=i),u.forceSync?j():setTimeout(j,10);var w,S,k,D=50;function A(e){if(!d.aborted&&!k){if((S=b(p))||(P("cannot access response document"),e=y),e===x&&d)return d.abort("timeout"),void g.reject(d,"timeout");if(e===y&&d)return d.abort("server abort"),void g.reject(d,"error","server abort");if(S&&S.location.href!==u.iframeSrc||h){p.detachEvent?p.detachEvent("onload",A):p.removeEventListener("load",A,!1);var t,r="success";try{if(h)throw"timeout";var a="xml"===u.dataType||S.XMLDocument||_.isXMLDoc(S);if(P("isXml="+a),!a&&window.opera&&(null===S.body||!S.body.innerHTML)&&--D)return P("requeing onLoad callback, DOM not available"),void setTimeout(A,250);var n=S.body?S.body:S.documentElement;d.responseText=n?n.innerHTML:null,d.responseXML=S.XMLDocument?S.XMLDocument:S,a&&(u.dataType="xml"),d.getResponseHeader=function(e){var t={"content-type":u.dataType};return t[e.toLowerCase()]},n&&(d.status=Number(n.getAttribute("status"))||d.status,d.statusText=n.getAttribute("statusText")||d.statusText);var i=(u.dataType||"").toLowerCase(),o=/(json|script|text)/.test(i);if(o||u.textarea){var s=S.getElementsByTagName("textarea")[0];if(s)d.responseText=s.value,d.status=Number(s.getAttribute("status"))||d.status,d.statusText=s.getAttribute("statusText")||d.statusText;else if(o){var c=S.getElementsByTagName("pre")[0],l=S.getElementsByTagName("body")[0];c?d.responseText=c.textContent?c.textContent:c.innerText:l&&(d.responseText=l.textContent?l.textContent:l.innerText)}}else"xml"===i&&!d.responseXML&&d.responseText&&(d.responseXML=L(d.responseText));try{w=E(d,i,u)}catch(e){r="parsererror",d.error=t=e||r}}catch(e){P("error caught: ",e),r="error",d.error=t=e||r}d.aborted&&(P("upload aborted"),r=null),d.status&&(r=200<=d.status&&d.status<300||304===d.status?"success":"error"),"success"===r?(u.success&&u.success.call(u.context,w,"success",d),g.resolve(d.responseText,"success",d),f&&_.event.trigger("ajaxSuccess",[d,u])):r&&(void 0===t&&(t=d.statusText),u.error&&u.error.call(u.context,d,r,t),g.reject(d,"error",t),f&&_.event.trigger("ajaxError",[d,u,t])),f&&_.event.trigger("ajaxComplete",[d,u]),f&&!--_.active&&_.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,d,r),k=!0,u.timeout&&clearTimeout(v),setTimeout(function(){u.iframeTarget?m.attr("src",u.iframeSrc):m.remove(),d.responseXML=null},100)}}}var L=_.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},F=_.parseJSON||function(e){return window.eval("("+e+")")},E=function(e,t,r){var a=e.getResponseHeader("content-type")||"",n=("xml"===t||!t)&&0<=a.indexOf("xml"),i=n?e.responseXML:e.responseText;return n&&"parsererror"===i.documentElement.nodeName&&_.error&&_.error("parsererror"),r&&r.dataFilter&&(i=r.dataFilter(i,t)),"string"==typeof i&&(("json"===t||!t)&&0<=a.indexOf("json")?i=F(i):("script"===t||!t)&&0<=a.indexOf("javascript")&&_.globalEval(i)),i};return g}},_.fn.ajaxForm=function(e,t,r,a){if(("string"==typeof e||!1===e&&0<arguments.length)&&(e={url:e,data:t,dataType:r},"function"==typeof a&&(e.success=a)),(e=e||{}).delegation=e.delegation&&_.isFunction(_.fn.on),e.delegation||0!==this.length)return e.delegation?(_(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,o).on("submit.form-plugin",this.selector,e,i).on("click.form-plugin",this.selector,e,o),this):this.ajaxFormUnbind().on("submit.form-plugin",e,i).on("click.form-plugin",e,o);var n={s:this.selector,c:this.context};return!_.isReady&&n.s?(P("DOM not ready, queuing ajaxForm"),_(function(){_(n.s,n.c).ajaxForm(e)})):P("terminating; zero elements found by selector"+(_.isReady?"":" (DOM not ready)")),this},_.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},_.fn.formToArray=function(e,t,r){var a=[];if(0===this.length)return a;var n,i,o,s,c,l,u,f,m=this[0],p=this.attr("id"),d=e||void 0===m.elements?m.getElementsByTagName("*"):m.elements;if(d&&(d=_.makeArray(d)),p&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(n=_(':input[form="'+p+'"]').get()).length&&(d=(d||[]).concat(n)),!d||!d.length)return a;for(_.isFunction(r)&&(d=_.map(d,r)),i=0,u=d.length;i<u;i++)if(l=d[i],(s=l.name)&&!l.disabled)if(e&&m.clk&&"image"===l.type)m.clk===l&&(a.push({name:s,value:_(l).val(),type:l.type}),a.push({name:s+".x",value:m.clk_x},{name:s+".y",value:m.clk_y}));else if((c=_.fieldValue(l,!0))&&c.constructor===Array)for(t&&t.push(l),o=0,f=c.length;o<f;o++)a.push({name:s,value:c[o]});else if(S.fileapi&&"file"===l.type){t&&t.push(l);var h=l.files;if(h.length)for(o=0;o<h.length;o++)a.push({name:s,value:h[o],type:l.type});else a.push({name:s,value:"",type:l.type})}else null!=c&&(t&&t.push(l),a.push({name:s,value:c,type:l.type,required:l.required}));if(!e&&m.clk){var v=_(m.clk),g=v[0];(s=g.name)&&!g.disabled&&"image"===g.type&&(a.push({name:s,value:v.val()}),a.push({name:s+".x",value:m.clk_x},{name:s+".y",value:m.clk_y}))}return a},_.fn.formSerialize=function(e){return _.param(this.formToArray(e))},_.fn.fieldSerialize=function(n){var i=[];return this.each(function(){var e=this.name;if(e){var t=_.fieldValue(this,n);if(t&&t.constructor===Array)for(var r=0,a=t.length;r<a;r++)i.push({name:e,value:t[r]});else null!=t&&i.push({name:this.name,value:t})}}),_.param(i)},_.fn.fieldValue=function(e){for(var t=[],r=0,a=this.length;r<a;r++){var n=this[r],i=_.fieldValue(n,e);null==i||i.constructor===Array&&!i.length||(i.constructor===Array?_.merge(t,i):t.push(i))}return t},_.fieldValue=function(e,t){var r=e.name,a=e.type,n=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!r||e.disabled||"reset"===a||"button"===a||("checkbox"===a||"radio"===a)&&!e.checked||("submit"===a||"image"===a)&&e.form&&e.form.clk!==e||"select"===n&&-1===e.selectedIndex))return null;if("select"!==n)return _(e).val().replace(p,"\r\n");var i=e.selectedIndex;if(i<0)return null;for(var o=[],s=e.options,c="select-one"===a,l=c?i+1:s.length,u=c?i:0;u<l;u++){var f=s[u];if(f.selected&&!f.disabled){var m=f.value;if(m||(m=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),c)return m;o.push(m)}}return o},_.fn.clearForm=function(e){return this.each(function(){_("input,select,textarea",this).clearFields(e)})},_.fn.clearFields=_.fn.clearInputs=function(r){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"===t?this.value="":"checkbox"===e||"radio"===e?this.checked=!1:"select"===t?this.selectedIndex=-1:"file"===e?/MSIE/.test(navigator.userAgent)?_(this).replaceWith(_(this).clone(!0)):_(this).val(""):r&&(!0===r&&/hidden/.test(e)||"string"==typeof r&&_(this).is(r))&&(this.value="")})},_.fn.resetForm=function(){return this.each(function(){var t=_(this),e=this.tagName.toLowerCase();switch(e){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var r=t.parents("select");return r.length&&r[0].multiple?"option"===e?this.selected=this.defaultSelected:t.find("option").resetForm():r.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var a=_(t.attr("for")),n=t.find("input,select,textarea");return a[0]&&n.unshift(a[0]),n.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},_.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},_.fn.selected=function(r){return void 0===r&&(r=!0),this.each(function(){var e=this.type;if("checkbox"===e||"radio"===e)this.checked=r;else if("option"===this.tagName.toLowerCase()){var t=_(this).parent("select");r&&t[0]&&"select-one"===t[0].type&&t.find("option").selected(!1),this.selected=r}})},_.fn.ajaxSubmit.debug=!1}(jQuery);
//# sourceMappingURL=jquery.form.min.js.map
